<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CAPIT WARKOP69 - Pro Live</title>
    <script src="admin_config.js"></script>
    <style>
        :root { --neon: #00f2ff; --gold: #ffd700; }
        body, html { margin: 0; padding: 0; background: #050505; color: white; font-family: sans-serif; overflow: hidden; height: 100%; width: 100%; }

        /* Loading Screen */
        #loading-page { position: fixed; inset: 0; background: #000; z-index: 999; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .loader { width: 40px; height: 40px; border: 4px solid #222; border-top-color: var(--neon); border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 20px; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Popup Mengambang */
        #error-popup { position: fixed; top: 15%; left: 50%; transform: translateX(-50%); background: #ff4757; padding: 12px 25px; border-radius: 50px; display: none; z-index: 1000; border: 2px solid white; animation: bounce 0.5s; }
        @keyframes bounce { 0%, 100% { top: 15%; } 50% { top: 13%; } }

        /* Layar Kupon */
        #login-page { height: 100vh; display: none; flex-direction: column; align-items: center; justify-content: center; background: radial-gradient(circle, #111, #000); }
        .input-area { display: flex; gap: 10px; margin-top: 20px; }
        input { padding: 15px; border-radius: 12px; border: 2px solid var(--neon); background: #111; color: white; width: 180px; text-align: center; font-weight: bold; }
        .btn-search { padding: 15px 25px; border-radius: 12px; border: none; background: var(--neon); color: black; font-weight: bold; cursor: pointer; }

        /* Mesin Game */
        #game-page { display: none; flex-direction: column; align-items: center; padding-top: 20px; }
        .machine { width: 330px; height: 460px; background: #0f172a; border: 6px solid #1e293b; border-radius: 25px; position: relative; overflow: hidden; box-shadow: 0 0 40px rgba(0,242,255,0.2); }
        #claw-box { position: absolute; top: 0; left: 140px; width: 70px; display: flex; flex-direction: column; align-items: center; z-index: 50; }
        #wire { width: 3px; height: 40px; background: #64748b; transition: height 1s; }
        #claw-img { width: 70px; height: 70px; background: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2300f2ff' stroke-width='2'%3e%3cpath d='M12 2v4M5 7l1 4 2-1V7M19 7l-1 4-2-1V7M8 10c0 4.4 1.8 8 4 8s4-3.6 4-8'/%3e%3c/svg%3e") no-repeat center; background-size: contain; }

        .prize-item { position: absolute; width: 60px; height: 60px; background-size: contain; background-repeat: no-repeat; }
        .type-piala { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffd700'%3e%3cpath d='M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94A5.01 5.01 0 0011 15.9V19H7v2h10v-2h-4v-3.1a5.01 5.01 0 003.61-3.96C19.08 11.63 21 9.55 21 7V6c0-1.1-.9-2-2-2zM5 7h2v3H5V7zm14 3h-2V7h2v3z'/%3e%3c/svg%3e"); }
        .type-boneka { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ff99cc'%3e%3ccircle cx='12' cy='12' r='8'/%3e%3ccircle cx='8' cy='8' r='3'/%3e%3ccircle cx='16' cy='8' r='3'/%3e%3c/svg%3e"); }

        .btn-run { width: 100px; height: 100px; border-radius: 50%; background: #ff4757; color: white; border: none; font-weight: bold; font-size: 20px; box-shadow: 0 8px 0 #b32626; margin-top: 30px; cursor: pointer; }

        #win-modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 1000; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .win-content { background: #1a1a1a; padding: 30px; border: 2px solid var(--gold); border-radius: 20px; width: 80%; }
        .btn-warning { background: #ff9800; color: #000; border: none; padding: 10px 20px; font-weight: bold; border-radius: 5px; margin-top: 15px; }
    </style>
</head>
<body>

    <div id="error-popup">‚ùåKupon Tak Tersedia</div>

    <div id="loading-page">
        <div class="loader"></div>
        <div id="load-txt">MOHON TUNGGU...</div>
    </div>

    <div id="login-page">
        <h1 style="color:var(--neon); letter-spacing: 3px;">CAPIT WARKOP69</h1>
        <div class="input-area">
            <input type="text" id="coupon-in" placeholder="‚úçÔ∏èMasukan Kupon">
            <button class="btn-search" onclick="checkKupon()">üîçCari</button>
        </div>
    </div>

    <div id="game-page">
        <div class="machine" id="floor">
            <div id="claw-box">
                <div id="wire"></div>
                <div id="claw-img"></div>
            </div>
        </div>
        <button class="btn-run" onclick="jalankan()">‚ñ∂Ô∏èRun</button>
    </div>

    <div id="win-modal">
        <div class="win-content">
            <h2 id="result-msg" style="color:var(--gold)"></h2>
            <p>Silahkan SS kirimkan ke admin hadiahnya!</p>
            <div style="display:flex; align-items:center; justify-content:center; gap:10px;">
                <button class="btn-warning">‚ö†Ô∏èWarning</button>
                <a href="https://t.me/YumiGladies" style="color:var(--neon); font-weight:bold; text-decoration:none;">@YumiGladies</a>
            </div>
        </div>
    </div>

    <script>
        let kadoTerpilih = "";
        let sibuk = false;
        let xPos = 140;
        let arah = 1;

        window.onload = () => {
            document.getElementById('load-txt').innerText = MASTER_CONFIG.teksLoading;
            setTimeout(() => {
                document.getElementById('loading-page').style.display = 'none';
                document.getElementById('login-page').style.display = 'flex';
            }, 2500);
        };

        function checkKupon() {
            const input = document.getElementById('coupon-in').value.toUpperCase();
            if(MASTER_CONFIG[input]) {
                kadoTerpilih = MASTER_CONFIG[input];
                document.getElementById('login-page').style.display = 'none';
                document.getElementById('game-page').style.display = 'flex';
                mulaiMesin();
            } else {
                const pop = document.getElementById('error-popup');
                pop.style.display = 'block';
                setTimeout(() => pop.style.display = 'none', 2000);
            }
        }

        function mulaiMesin() {
            const floor = document.getElementById('floor');
            for(let i=0; i<35; i++) {
                const p = document.createElement('div');
                p.className = 'prize-item ' + (Math.random() > 0.5 ? 'type-piala' : 'type-boneka');
                p.style.left = Math.random() * 260 + 'px';
                p.style.bottom = Math.random() * 80 + 'px';
                p.style.transform = `rotate(${Math.random()*360}deg)`;
                floor.appendChild(p);
            }
            setInterval(() => {
                if(!sibuk) {
                    xPos += (2 * arah);
                    if(xPos > 260 || xPos < 0) arah *= -1;
                    document.getElementById('claw-box').style.left = xPos + 'px';
                }
            }, 30);
        }

        async function jalankan() {
            if(sibuk) return;
            sibuk = true;
            const wire = document.getElementById('wire');
            wire.style.height = "370px";
            await new Promise(r => setTimeout(r, 1000));
            if(kadoTerpilih !== "Zonkk") {
                const item = document.createElement('div');
                item.className = 'prize-item type-piala';
                item.style.bottom = "-20px";
                document.getElementById('claw-img').appendChild(item);
            }
            wire.style.height = "40px";
            await new Promise(r => setTimeout(r, 1200));
            if(kadoTerpilih !== "Zonkk") {
                document.getElementById('result-msg').innerText = "Selamat kamu mendapatkan " + kadoTerpilih;
                document.getElementById('win-modal').style.display = 'flex';
            } else {
                alert("Yahhh Meleset / Zonkk!");
                location.reload();
            }
        }
    </script>
</body>
</html>
